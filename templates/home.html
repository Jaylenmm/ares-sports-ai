{% extends 'base.html' %}
{% block title %}Ares AI â€“ Home{% endblock %}
{% block content %}
<div class="space-y-4">
    <!-- Filters: Sport + Range + Sort -->
    <div class="flex overflow-x-auto space-x-2 items-center" style="-webkit-overflow-scrolling: touch;">
        <div class="flex space-x-2">
            <a href="/" class="px-3 py-2 rounded-2xl border border-slate-200 shadow-sm whitespace-nowrap bg-white text-black {{ 'ring-1 ring-slate-300' if not selected_sport }}">All</a>
            {% for s in sports %}
            <a href="/?sport={{ s }}&range={{ date_range }}&sort={{ sort_by }}" class="px-3 py-2 rounded-2xl border border-slate-200 shadow-sm whitespace-nowrap bg-white text-black {{ 'ring-1 ring-slate-300' if selected_sport==s }}">{{ s|upper }}</a>
            {% endfor %}
        </div>
        <div class="ml-auto flex space-x-2">
            <a href="/?sport={{ selected_sport or '' }}&range=today&sort={{ sort_by }}" class="px-3 py-2 rounded-2xl border border-slate-200 shadow-sm bg-white text-black {{ 'ring-1 ring-slate-300' if date_range=='today' }}">Today</a>
            <a href="/?sport={{ selected_sport or '' }}&range=3d&sort={{ sort_by }}" class="px-3 py-2 rounded-2xl border border-slate-200 shadow-sm bg-white text-black {{ 'ring-1 ring-slate-300' if date_range=='3d' }}">3d</a>
            <a href="/?sport={{ selected_sport or '' }}&range=7d&sort={{ sort_by }}" class="px-3 py-2 rounded-2xl border border-slate-200 shadow-sm bg-white text-black {{ 'ring-1 ring-slate-300' if date_range=='7d' }}">7d</a>
        </div>
    </div>

    <!-- Live Carousel -->
    {% if live_games %}
    <div class="space-y-2">
        <h2 class="text-sm font-semibold text-white">Live Now</h2>
        <div class="flex overflow-x-auto space-x-3 pb-1">
            {% for g in live_games %}
            <a href="/check-your-bet?s={{ g.home_team | urlencode }}" class="min-w-[260px] bg-white text-black rounded-2xl border border-slate-200 shadow-sm p-3 block">
                <div class="text-xs uppercase tracking-wide text-slate-700">{{ g.sport }}</div>
                <div class="mt-1 font-semibold">{{ g.away_team }} @ {{ g.home_team }}</div>
                <div class="text-sm text-slate-700">{{ g.date.strftime('%a %b %d, %I:%M %p') }} ET</div>
                <div class="mt-2 flex items-center justify-between text-sm">
                    <div>Score: {{ g.away_score }} - {{ g.home_score }}</div>
                    {% if g.spread or g.total or g.home_moneyline or g.away_moneyline %}
                    <div class="text-right">
                        {% if g.spread %}<div>Spread: {{ g.spread }}</div>{% endif %}
                        {% if g.total %}<div>Total: {{ g.total }}</div>{% endif %}
                    </div>
                    {% endif %}
                </div>
            </a>
            {% endfor %}
        </div>
    </div>
    {% endif %}

    <!-- Featured Odds -->
    {% if featured_games %}
    <div class="space-y-2">
        <h2 class="text-sm font-semibold text-white">Featured Odds</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
            {% for g in featured_games %}
            <a href="/check-your-bet?s={{ g.home_team | urlencode }}" class="bg-white text-black rounded-2xl border border-slate-200 shadow-sm p-3 block">
                <div class="text-xs uppercase tracking-wide text-slate-700">{{ g.sport }}</div>
                <div class="mt-1 font-semibold">{{ g.away_team }} @ {{ g.home_team }}</div>
                <div class="text-sm text-slate-700">{{ g.date.strftime('%a %b %d, %I:%M %p') }} ET</div>
                <div class="mt-2 grid grid-cols-4 gap-2 text-sm">
                    <div>
                        <div class="text-slate-600">ML</div>
                        <div>{{ g.away_moneyline if g.away_moneyline is not none else '-' }}</div>
                        <div>{{ g.home_moneyline if g.home_moneyline is not none else '-' }}</div>
                    </div>
                    <div>
                        <div class="text-slate-600">Spread</div>
                        <div>{{ g.spread if g.spread is not none else '-' }}</div>
                    </div>
                    <div>
                        <div class="text-slate-600">Total</div>
                        <div>{{ g.total if g.total is not none else '-' }}</div>
                    </div>
                    <div>
                        <div class="text-slate-600">Book</div>
                        <div>{{ g.bookmaker or '-' }}</div>
                    </div>
                </div>
            </a>
            {% endfor %}
        </div>
    </div>
    {% endif %}

    <!-- Upcoming List -->
    <div class="space-y-2">
        <h2 class="text-sm font-semibold text-white">Upcoming</h2>
        <div class="space-y-2">
            {% for g in upcoming_games %}
            <a href="/check-your-bet?s={{ g.home_team | urlencode }}" class="bg-white text-black rounded-2xl border border-slate-200 shadow-sm p-3 flex items-center justify-between block">
                <div>
                    <div class="text-xs uppercase tracking-wide text-slate-700">{{ g.sport }}</div>
                    <div class="font-semibold">{{ g.away_team }} @ {{ g.home_team }}</div>
                    <div class="text-sm text-slate-700">{{ g.date.strftime('%a %b %d, %I:%M %p') }} ET</div>
                </div>
                <div class="text-right text-sm">
                    {% if g.spread %}<div>Spread: {{ g.spread }}</div>{% endif %}
                    {% if g.total %}<div>Total: {{ g.total }}</div>{% endif %}
                    {% if g.bookmaker %}<div class="text-slate-600">{{ g.bookmaker }}</div>{% endif %}
                </div>
            </a>
            {% endfor %}
        </div>
    </div>
 
</div>
{% endblock %}

